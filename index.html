<script>
  async function go() {
    const code = document.getElementById("code").value.trim().toUpperCase();
    const status = document.getElementById("status");
    if (!code || code.length !== 6) {
      status.textContent = "Please enter a valid 6-character code.";
      status.style.color = "red";
      return;
    }

    status.textContent = "Checking...";
    status.style.color = "black";

    try {
      const res = await fetch(`https://link-sharing-backend.ikrish61.workers.dev/${code}`, {
        method: "HEAD"
      });

      if (res.status === 200) {
        window.location.href = `https://link-sharing-backend.ikrish61.workers.dev/${code}`;
      } else {
        status.textContent = "Link not found.";
        status.style.color = "red";
      }
    } catch (err) {
      status.textContent = "An error occurred. Try again later.";
      status.style.color = "red";
      console.error(err);
    }
  }

  // Listen for Enter key
  document.getElementById("code").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      go();
    }
  });
</script>

